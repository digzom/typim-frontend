# ADR-002: Keyboard Shortcut Guarding for Ctrl+W Parity

## Status

Accepted

## Context

`Ctrl+W` behavior diverged across contexts. In non-editor focus or modal states it could trigger unintended behavior instead of word deletion parity.

## Decision

Implement guarded interception in `src/editor/keymap.ts` with deterministic ordering: modal check, editor focus/target check, Vim check, then delete-word command dispatch.

## Consequences

### Positive

- Keyboard-first behavior (INV-003) is preserved in editor-only contexts.
- Title input, menu, and modal contexts no longer trigger editor-side deletions.

### Negative

- Shortcut logic requires explicit integration hooks from `src/main.ts`.

### Neutral

- `Alt+Backspace` remains the documented fallback.

## Related

- `src/editor/keymap.ts`
- `src/editor/vim.ts`
- `src/index.html`
- `tests/e2e/shortcuts.spec.ts`
